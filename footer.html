<!-- Move Guide Attributes into the Footer -->
<script type="text/javascript">
function moveAttributes() {
    try {
    // Check for myPID var to determine if this is a guide.
    if ( typeof(myPID) != 'undefined' ) {
    var attr_obj = document.getElementById('guideattr');
    var footer_obj = document.getElementById('footer');
    var sattr_content = attr_obj.innerHTML;

    attr_obj.innerHTML = '';
    attr_obj.style.height = '0px';

    footer_obj.innerHTML = '<div class="guide_attr">' + sattr_content + '</div>' + footer_obj.innerHTML;
    }
    } catch (e) {}
}

moveAttributes();
</script>
<script type="text/javascript">
function moveElement (source,target)
{
    try {
        if ( typeof (myPID) != 'undefined' )
            {
                var sourceObj = document.querySelectorAll(source);
                var targetObj = document.querySelectorAll(target);
                targetObj[ 0 ].appendChild(sourceObj[ 0 ]);
                }
        }
    catch (e) {}
}

moveElement("span.lgsearch","div#guide_header_title");
</script>

<!-- JQuery columns for Expanding Subject List -->
<script src="http://demo.libguides.com/data/custom/1/jquery.columns.js"></script>
<script type="text/javascript">
  // Contributors: Dan Brubaker Horst, Laura J. Harris, thorbroo (#code4lib), Erin R. White, Derik Badman.
  // Code is licensed under a Creative Commons Atrribution license: http://creativecommons.org/licenses/by/3.0/us

  //compatibility mode for $ namespace (which might get used by other js libraries) better to use jQuery in these cases
  jQuery.noConflict();

  // Wrapping with: (function($){ ...code...})(jQuery); replaces '$' with 'jQuery'.
  (function($){
  $(document).ready(function() {
  $('#myScript').remove();
  // creates the columns through the column plug loaded above
  $('.mylist').columns({columns: 2});

  // 'hide' function is called on each of the 'ul' elements with the class 'guide_links'
  $('ul.guide_links').hide();

  // DOM insert a link element inside of each of the subject list items.
  $('li.subject_link').prepend('<a href="javascript://toggle guide links" class="toggle_button">+</a>');

  // enable toggle action on each Subject LI
  $('li.subject_link').bind("click", function(){
  // toggles text in the link between '+' and '-'.
  if($(this).children('a.toggle_button').text() == '+'){
  $(this).children('a.toggle_button').text('-');
  } else {
  $(this).children('a.toggle_button').text('+');
  }
  // Toggle the child 'ul' element
  $(this).children('ul.guide_links').slideToggle("fast");
  });

  $('a.subject_link_a').contents().unwrap();

  });
  })(jQuery);
</script>
